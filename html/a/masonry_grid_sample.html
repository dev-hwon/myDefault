<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>masonry_grid</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/masonry_sample_css.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body style="padding-bottom:1500px; background: #ccc;">
<section class="m__bg">
    <div class="container">
        <div id="masonry_grid" class="masonry_grid masonry_grid_4">
            <h1 style="background: transparent; padding:15px 0; margin: 0 0 30px; text-align: center; font-size: 40px;">incomplete masonry_grid</h1>
            <div class="wrap">
                <ul>
                    <li class="grid1">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title1</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid2">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title2</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid3">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title3</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid4">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title4</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid5">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title5</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                            </div>
                    </li>
                    <li class="grid6">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title6</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore
                            </div>
                        </div>
                    </li>
                    <li class="grid7">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title7</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid8">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title8</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                            </div>
                        </div>
                    </li>
                    <li class="grid9">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title9</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                    <li class="grid10">
                        <div class="grid_inner_wrap">
                            <div class="m__title">masonry_grid title10</div>
                            <div class="m__content">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. A alias culpa deleniti eius eum facere in inventore itaque labore laboriosam magni, perferendis quae quam, quo rem repellendus saepe totam, unde.
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>
<script type="text/javascript">
(function($) {
    $(function() {
        // 그리드 변수
        var m_grid = $('#masonry_grid ul li'),
            m_grid_arr = [],
            m_grid_col = 4,
            m_grid_col_horizontal_gap = 15,
            m_grid_col_vertical_gap = 10,
            m_grid_col_left =0;

        for(var i=0; i < m_grid.length; i++) {
            m_grid_arr.push(m_grid[i]);

            // 그리드 상단으로부터 거리
            if(i < m_grid_col*1){
                m_grid_arr[i].style.top = 0;
            } else if (i < (m_grid_col*2)) {
                var m_grid_pos_h = m_grid_arr[(i-m_grid_col)].clientHeight + m_grid_col_vertical_gap;
                m_grid_arr[i].style.top = m_grid_pos_h+'px';
            } else if (i < (m_grid_col*3)) {
                var m_grid_pos_h = m_grid_arr[(i-m_grid_col)].clientHeight + m_grid_arr[(i-m_grid_col)].offsetTop + m_grid_col_vertical_gap;
                m_grid_arr[i].style.top = m_grid_pos_h+'px';
            } else if (i < (m_grid_col*4)) {
                var m_grid_pos_h = m_grid_arr[(i-m_grid_col)].clientHeight + m_grid_arr[(i-m_grid_col)].offsetTop + m_grid_col_vertical_gap;
                m_grid_arr[i].style.top = m_grid_pos_h+'px';
            }

            // 그리드 가로 너비
            m_grid_arr[i].style.width = (100/m_grid_col)+'%';

            // 그리드 왼쪽거리
            var left = (100/m_grid_col)*m_grid_col_left;
            m_grid_arr[i].style.left = left+"%";
            if(m_grid_col_left===(m_grid_col-1)) {
                m_grid_col_left = -1;
            }
            m_grid_col_left++;
        }

    });
})(jQuery);
</script>
</body>
</html>
